<!DOCTYPE html>
<html>
  <head>
    <title>Google Music Desktop</title>
    <!-- Set up page styles -->
    <style>
      /* Make page full height for full height elements */
      html, body {
        height: 100%;
        margin: 0;
        padding: 0;
      }

      /* No iframe borders please */
      iframe {
        border: 0;
      }

      /* Take up majority of screen with Google Music */
      #google-music {
        width: 100%;
        height: 100%;
      }
    </style>
    <!-- Set up minimize to tray functionality -->
    <script>
      (function bindMinification () {
        // Modifiend from https://github.com/rogerwang/node-webkit/wiki/Minimize-to-tray
        // Load library
        var gui = require('nw.gui');

        // Create our tray icon
        // DEV: Icon via http://lorempixel.com/32/32/abstract/
        var win = gui.Window.get();
        var tray = new gui.Tray({icon: 'icon.jpeg'});

        // When the tray icon is clicked, show the window
        // TODO: Should be a toggle
        tray.on('click', function maximizeFromTray () {
          win.restore();
        });

        // When we minimize our window, hide it
        win.on('minimize', function minimizeToTray () {
          win.minimize();
        });
      }());
    </script>
  </head>
  <body>
    <iframe id="google-music" src="https://play.google.com/music">
      You don't support iframes. Something is seriously wrong. Pleas open an issue.
    </iframe>
  </body>
</html>
